---
title: 前端常见安全题
date: 2020-05-07
description: 前端常见安全问题，XSS & CSRF
---

## XSS

### XSS 分类

- 存储型 XSS
  攻击者将 xss 脚本存储在服务端数据库，通常出现在论坛/评论等地方
- 反射型 XSS
  通过请求参数将恶意脚本发送到站点页面存在漏洞的地方，脚本反射在新渲染的页面并执行，通常出现在搜索框
- DOM 型 XSS
  特殊的反射型 XSS，攻击脚本没有经过服务端，直接在客户端被执行。

### XSS 攻击

1. 盗用 cookie，获取敏感信息
2. 利用 iframe、frame、XMLHttpRequest 或上述 Flash 等方式，以（被攻击）用户的身份执行一些管理动作，或执行一些一般的如发微博、加好友、发私信等操作。
3. 利用可被攻击的域受到其他域信任的特点，以受信任来源的身份请求一些平时不允许的操作，如进行不当的投票活动
4. 在访问量极大的一些页面上的 XSS 可以攻击一些小型网站，实现 DoS 攻击的效果。

### XSS 攻击防御

- HTTPOnly
- 输入过滤
- 转义 HTML
- 输入内容长度控制

## CSRF

XSS 利用的是用户对指定网站的信任，CSRF 利用的是网站对用户网页浏览器的信任。具体就是获取客户端网站的 cookie，获取 cookie 后伪造一个请求进行攻击。

#### 防御方法

- 用 referer 判断请求源
- 增加校验 token

## 中间人攻击

### 如何用 service worker 做攻击
